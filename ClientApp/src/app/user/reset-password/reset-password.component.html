<div class="container">
  <div class="row">
    <div class="col-sm-12">
      <div class="card bg-light mt-3">
        <div class="card-header">RÃ©initialiser le mot de passe pour {{userToEdit.userName}}</div>
        <div class="card-body">
          <form [formGroup]="resetForm" (ngSubmit)="submitHandler()" autocomplete="off">
            <div class="alert alert-danger" role="alert" *ngIf="error">
              <div class="text-center">{{error}}</div>
            </div>

            <div class="form-group row">
              <label for="password" class="col-sm-2">Mot de passe:</label>
              <div class="col-sm-8">
                <input id="password" name="password" class="form-control form-control-sm" [type]="passwordInputType" formControlName="password"
                       [ngClass]="{
                              'is-invalid': password.invalid && (password.dirty || password.touched),
                              'is-valid': password.valid
                            }" required />
                <div class="invalid-feedback">
                  Mot de passe est obligatoire
                </div>
              </div>
            </div>

            <div class="form-group row">
              <label for="confirmPassword" class="col-sm-2">Confirmer:</label>
              <div class="col-sm-8">
                <input id="confirmPassword" name="confirmPassword" class="form-control form-control-sm" [type]="passwordInputType" formControlName="confirmPassword"
                       [ngClass]="{
                              'is-invalid': confirmPassword.invalid && (confirmPassword.dirty || confirmPassword.touched),
                              'is-valid': confirmPassword.valid
                            }" required />
                <div class="invalid-feedback">
                  Confimer Mot de passe est obligatoire
                </div>
              </div>
            </div>

            <div class="form-group row">
              <div class="col-sm-2"></div>
              <div class="col-sm-8">
                <div class="checkbox">
                  <label>
                    <input type="checkbox" (change)="onShowPassword($event.target.checked)"> Afficher le mot de passe
                  </label>
                </div>
              </div>
            </div>

            <div class="form-group row">
              <div class="col-sm-2"></div>
              <div class="col-sm-8">
                <div *ngIf="resetForm.errors?.passwordMatch && (password.touched || password.dirty)
                   && (confirmPassword.touched || confirmPassword.dirty) "
                     style="font-size: 80%; color: #dc3545;">
                  Les mots de passe ne se correspondent pas
                </div>
              </div>
            </div>

            

            <div class="row">
              <div class="col-sm-2"></div>
              <div class="col-sm-8">
                <button type="submit" class="btn btn-sm btn-primary mr-3" [disabled]="resetForm.invalid || submitting">
                  Soumettre <span *ngIf="submitting" class="spinner-border spinner-border-sm ml-2"></span>
                </button>
                <button type="button" class="btn btn-sm btn-secondary"
                        [disabled]="submitting" (click)="cancelHandler()">Annuler</button>
              </div>
            </div>

          </form>
        </div>
      </div>
    </div>
  </div>
</div>
